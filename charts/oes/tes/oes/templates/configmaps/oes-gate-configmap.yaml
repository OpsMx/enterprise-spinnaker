---
# Source: oes/templates/configmaps/oes-gate-configmap.yaml
apiVersion: v1
data:
  gate.yml: |
    services:
      opsmx:
        baseUrl: http://oes-sapor:8085
        enabled: true
      autopilot:
        baseUrl: http://oes-autopilot:8090
        enabled: true
      platform:
        baseUrl: http://oes-platform:8095
        userGroupApiPath: /platformservice/v1/users/{username}/usergroups/importAndCache
        enabled: true
      dashboard:
        baseUrl: http://oes-dashboard:8094
        enabled: true
      visibility:
        baseUrl: http://oes-visibility:8096
        enabled: true
      user: {}
    cors:
      allowed-origins-pattern: ^https?://(?:localhost|oes.domain.com|opsmx.com)(?::[1-9]\d*)?/?
    ldap:
      enabled: true
      url: ldap://RELEASE-NAME-openldap:389
      userDnPattern: cn={0},dc=example,dc=org
    file:
      enabled: false
      url: /platformservice/v1/users/authenticate
    authn:
      mode: session
    google: {}
    logging:
      level:
        com.netflix.spinnaker.gate.security: DEBUG
        org.springframework.security: DEBUG
        org.springframework.web: DEBUG
    redis:
      connection: redis://:password@RELEASE-NAME-redis-master:6379
    oesui:
      externalUrl: http://oes.domain.com
    server:
      session:
        timeoutInSeconds: 7200
    
kind: ConfigMap
metadata:
  name: oes-gate-config
  labels:
    app: oes
    component: gate
    heritage: "Helm"
    release: "RELEASE-NAME"
    chart: "oes-3.5.0"
